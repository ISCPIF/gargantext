{% extends "corpus/menu.html" %}

{% block css %}
{% load staticfiles %}

<link rel="stylesheet" type="text/css" href="{% static "css/bootstrap.css" %}">
<link rel="stylesheet" type="text/css" href="{% static "css/morris.css" %}">
<link rel="stylesheet" type="text/css" href="{% static "css/jquery.easy-pie-chart.css"%}">

<link rel="stylesheet" type="text/css" href="{% static "css/dc.css"%}"/>
<link rel="stylesheet" type="text/css" href="{% static "css/jquery.dynatable.css"%}"/>


<script type="text/javascript" src="{% static "js/charts/d3.js"%}"></script>
<script type="text/javascript" src="{% static "js/charts/crossfilter.js"%}"></script>
<!-- <script type="text/javascript" src="http://localhost/i7/js_examples/DC_linear/dc.js"></script> -->
<script type="text/javascript" src="{% static "js/charts/dc.js"%}"></script>


<style>
.no-transition {
  -webkit-transition: height 0.1s;
  -moz-transition: height 0.1s;
  -ms-transition: height 0.1s;
  -o-transition: height 0.1s;
  transition: height 0.1s;
}
th { color: #fff; }

th a {
  color: #fff;
  font-weight: normal;
  font-style: italic;
  font-size: 0.9em;
}

tr:hover {
  cursor: pointer;
  font-weight: bold;
}

/*
.table-hover tbody tr:hover td, .table-hover tbody tr:hover th {
  background-color: #F5A9A9;
}*/
.normal {
  color: black;
}

.delete {
  color:red; 
  opacity: 0.8;
}
.keep {
  color:green;
}

.group {
  color:white;  
  pointer-events: none;
  cursor: default;
}

.group_box {
  font-size: 90%;
  border: 1px solid blue;
}
.group_box .header {
  font-size: 120%;
}
.group_box .content {
  border: 1px solid yellow;
}

#group_flag {
}

.dynatable-record-count {
  font-size: 0.7em;
}
.dynatable-pagination-links {
  font-size: 0.7em;  
}
 
input[type=radio] + label {
    display:inline-block;
    margin:-2px;
    padding: 4px 12px;
    margin-bottom: 0;
    font-size: 14px;
    line-height: 20px;
    color: #333;
    text-align: center;
    text-shadow: 0 1px 1px rgba(255,255,255,0.75);
    vertical-align: middle;
    cursor: pointer;
    background-color: #f5f5f5;
    background-image: -moz-linear-gradient(top,#fff,#e6e6e6);
    background-image: -webkit-gradient(linear,0 0,0 100%,from(#fff),to(#e6e6e6));
    background-image: -webkit-linear-gradient(top,#fff,#e6e6e6);
    background-image: -o-linear-gradient(top,#fff,#e6e6e6);
    background-image: linear-gradient(to bottom,#fff,#e6e6e6);
    background-repeat: repeat-x;
    border: 1px solid #ccc;
    border-color: #e6e6e6 #e6e6e6 #bfbfbf;
    border-color: rgba(0,0,0,0.1) rgba(0,0,0,0.1) rgba(0,0,0,0.25);
    border-bottom-color: #b3b3b3;
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffffff',endColorstr='#ffe6e6e6',GradientType=0);
    filter: progid:DXImageTransform.Microsoft.gradient(enabled=false);
    -webkit-box-shadow: inset 0 1px 0 rgba(255,255,255,0.2),0 1px 2px rgba(0,0,0,0.05);
    -moz-box-shadow: inset 0 1px 0 rgba(255,255,255,0.2),0 1px 2px rgba(0,0,0,0.05);
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.2),0 1px 2px rgba(0,0,0,0.05);
}
 
input[type=radio]:checked + label {
       background-image: none;
    outline: 0;
    -webkit-box-shadow: inset 0 2px 4px rgba(0,0,0,0.15),0 1px 2px rgba(0,0,0,0.05);
    -moz-box-shadow: inset 0 2px 4px rgba(0,0,0,0.15),0 1px 2px rgba(0,0,0,0.05);
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.15),0 1px 2px rgba(0,0,0,0.05);
        background-color:#e0e0e0;
}
</style>

{% endblock %}


{% block content %}



<div class="container">
    <div class="container">
        <div class="jumbotron">
            <div class="row">
                <div id="monthly-move-chart">
                    <center>
                        Blue bars: all,  Green line for zooming : select a time range to zoom in
                    <p align="center">
                    <a class="btn btn-xs btn-default" role="button" href="/chart/corpus/{{ corpus.id }}/data.csv">Save</a>
                    <a class="btn btn-xs btn-default" href="javascript:volumeChart.filterAll();dc.redrawAll();">Reset</a></p>

                    <div class="clearfix"></div>
                    </center>
                </div>
            </div>
        <div class="row">
            <div id="monthly-volume-chart"></div>
        </div>
        
        <div id="content_loader">
          <br>
          <center>
            <img width="10%" src="{% static "img/ajax-loader.gif"%}"></img>
          </center>
          <br>
        </div>

    </div>
</div>


<input type="hidden" id="list_id" value="{{ list_id }}"></input>


<div class="container">
        <div class="jumbotron">

<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
  <div class="panel panel-body">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne">
           <p id="corpusdisplayer" onclick='Final_UpdateTable("click")' class="btn btn-primary btn-lg" style="width:200px; margin:0 auto; display:block;">Open Folder</h2></p>
        </a>
      </h4>
    </div>
    <div id="collapseOne" class="panel-collapse collapse no-transition" role="tabpanel">

      <div class="panel-body">
                  <div id="div-table"></div>
                <!-- <p align="right">
                    <table id="my-ajax-table" class="table table-bordered">
                      <thead>
                        <th data-dynatable-column="name">Title</th>
                        <th id="score_column_id" data-dynatable-sorts="score" data-dynatable-column="score">Score</th>
                        <th data-dynatable-column="del" data-dynatable-no-sort="true">
                            <input type="checkbox" id="multiple_selection" onclick="SelectAll(this);" /> Select
                        </th>
                      </thead>
                      <tbody>
                      </tbody>
                    </table>
                </p> -->
                <p align="right">
                    <!-- <button id="Clean_All" class="btn btn-warning">Clean</button> -->
                    <button id="Save_All" class="btn btn-primary">Save</button>
                </p>

      </div>
    </div>
  </div>
</div>
</div>
</div>


    <div id="corpuses" class="modal fade">

      <div class="modal-dialog">
        <div class="modal-content">

          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
            <h3 class="modal-title">Adding a list from another corpus</h3>
          </div>

          <div class="modal-body form-horizontal">
            
            <div class="form-inline">
                <label class="control-label">
                    Which list do you want?</label>
                <label class="radio">
                    <input value="miam" name="whichlist" type="radio">MiamList
                </label>
                <label class="radio">
                    <input value="stop" name="whichlist" checked type="radio">StopList
                </label>
            </div>

            <h4>Choose one corpus:</h4>
            <div style="color:red;" id="selected_corpus"></div>
            <div id="user_portfolio"></div>

            <div class="modal-footer">
              <button id="closecorpuses" type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              <button id="add_corpus_tab" type="button" class="btn btn-primary" disabled onclick='printCorpuses();'>Add Tab</button>
            </div>

          </div>
        </div>
      </div> 

    </div>




<div id="filter_search" style="visibility:hidden">
<span style="font-size:70%;">
  <input title="Search in Titles" type="checkbox" checked onclick="return false">TI</input>&nbsp;
  <input title="Search in Abstracts" type="checkbox">AB</input>
</span>&nbsp;&nbsp;
<select id="example-single-optgroups" onchange="SearchFilters(this);">
    <!-- <optgroup label=""> -->
        <option id="filter_all" value="filter_all">All</option>
        <!-- <option id="filter_title" value="filter_title">Title</option> -->
        <!-- <option id="filter_date" value="filter_date">Date</option> -->
    <!-- </optgroup> -->
    <!-- <optgroup label="Duplicates"> -->
        <!-- <option value="filter_doi">By DOI</option> -->
        <option id="filter_map-list" value="filter_map-list">Map-List</option>
        <option id="filter_stop-list" value="filter_stop-list">Stop-List</option>
    <!-- </optgroup> -->
</select>

<button id="ImportList" onclick="GetUserPortfolio(); $('#corpuses').modal('show');" class="btn btn-warning">Import a Corpus-List</button>

</div>

<script type="text/javascript" src="{% static "js/jquery/jquery.min.js" %}"></script>
<script src="{% static "js/charts/bootstrap.min.js" %}"></script>
<script src="{% static "js/libs/jquery/jquery.ba-dotimeout.min.js" %}" type="text/javascript"></script>
<script type="text/javascript" src="{% static "js/jquery/jquery.dynatable.js" %}"></script>

<!-- custom-lib for dynatable.js and dc.js -->
<script type="text/javascript" src="{% static "js/NGrams_dyna_chart_and_table.js" %}"></script>




{% endblock %}
